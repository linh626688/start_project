{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\caro/assets\\scripts\\caro\\GamePlay.js"],"names":["cc","Class","extends","Component","properties","blockPrefab","default","type","Prefab","table","Node","spawnNew","x","y","i","a","spawn","instantiate","node","addChild","getComponent","row","col","width","height","setPosition","getNewBlockPosition","GamePlay","randX","randY","p","addTouchListerner","on","EventType","TOUCH_START","event","rect","getBoundingBoxToWorld","rectContainsPoint","getLocation","star","v2","onLoad","start"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SADL;AAKRC,eAAOT,GAAGU;AALF,KAHP;AAULC,cAAU,oBAAY;;AAElB,YAAIC,IAAI,CAAR;AACA,YAAIC,IAAI,CAAR;AACA,aAAK,IAAIC,IAAI,CAAC,CAAd,EAAiBA,IAAI,CAArB,EAAwBA,GAAxB,EAA6B;AACzB,iBAAK,IAAIC,IAAI,CAAC,CAAd,EAAiBA,IAAI,CAArB,EAAwBA,GAAxB,EAA6B;;AAEzB,oBAAIC,QAAQhB,GAAGiB,WAAH,CAAe,KAAKZ,WAApB,CAAZ;AACA,qBAAKa,IAAL,CAAUC,QAAV,CAAmBH,KAAnB;AACAA,sBAAMI,YAAN,CAAmB,OAAnB,EAA4BC,GAA5B,GAAkCN,CAAlC;AACAC,sBAAMI,YAAN,CAAmB,OAAnB,EAA4BE,GAA5B,GAAkCR,CAAlC;AACAF,oBAAIG,IAAIC,MAAMO,KAAd;AACAV,oBAAIC,IAAIE,MAAMQ,MAAd;AACAR,sBAAMS,WAAN,CAAkB,KAAKC,mBAAL,CAAyBd,CAAzB,EAA4BC,CAA5B,CAAlB;AACA;AACAG,sBAAMI,YAAN,CAAmB,OAAnB,EAA4BO,QAA5B,GAAuC,IAAvC;AAEH;AACJ;AAEJ,KA9BI;AA+BLD,yBAAqB,6BAAUE,KAAV,EAAiBC,KAAjB,EAAwB;;AAEzC,eAAO7B,GAAG8B,CAAH,CAAKF,KAAL,EAAYC,KAAZ,CAAP;AAEH,KAnCI;AAoCLE,qBApCK,+BAoCe;AAChB,aAAKb,IAAL,CAAUc,EAAV,CAAahC,GAAGU,IAAH,CAAQuB,SAAR,CAAkBC,WAA/B,EAA4C,UAAUC,KAAV,EAAiB;AACzD,gBAAIC,OAAO,KAAK3B,KAAL,CAAW4B,qBAAX,EAAX;AACA,gBAAIrC,GAAGsC,iBAAH,CAAqBF,IAArB,EAA2BD,MAAMI,WAAN,EAA3B,CAAJ,EAAqD;AACjD,oBAAIC,OAAOxC,GAAGiB,WAAH,CAAe,KAAKZ,WAApB,CAAX;AACAmC,qBAAKf,WAAL,CAAiBzB,GAAGyC,EAAH,CAAMN,MAAMI,WAAN,GAAoB3B,CAApB,GAAwB,GAA9B,EAAmCuB,MAAMI,WAAN,GAAoB1B,CAApB,GAAwB,GAA3D,CAAjB;AACA,qBAAKK,IAAL,CAAUC,QAAV,CAAmBqB,IAAnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;AACJ,SAlBD,EAkBG,IAlBH;AAmBH,KAxDI;AAyDLE,UAzDK,oBAyDI;AACL;AACA;AACA;AACA;AACA,aAAKX,iBAAL;AACH,KA/DI;AAiELY,SAjEK,mBAiEG;AACJ;AACH;AAnEI;;AAqEL;AArEJ","file":"GamePlay.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\caro","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        blockPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        table: cc.Node,\r\n    },\r\n    spawnNew: function () {\r\n\r\n        var x = 0;\r\n        var y = 0;\r\n        for (var i = -7; i < 8; i++) {\r\n            for (var a = -7; a < 8; a++) {\r\n\r\n                var spawn = cc.instantiate(this.blockPrefab);\r\n                this.node.addChild(spawn);\r\n                spawn.getComponent('Block').row = a;\r\n                spawn.getComponent('Block').col = i;\r\n                x = a * spawn.width;\r\n                y = i * spawn.height;\r\n                spawn.setPosition(this.getNewBlockPosition(x, y));\r\n                // this.table.push(spawn);\r\n                spawn.getComponent('Block').GamePlay = this;\r\n\r\n            }\r\n        }\r\n\r\n    },\r\n    getNewBlockPosition: function (randX, randY) {\r\n\r\n        return cc.p(randX, randY);\r\n\r\n    },\r\n    addTouchListerner() {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, function (event) {\r\n            let rect = this.table.getBoundingBoxToWorld();\r\n            if (cc.rectContainsPoint(rect, event.getLocation())) {\r\n                let star = cc.instantiate(this.blockPrefab);\r\n                star.setPosition(cc.v2(event.getLocation().x - 480, event.getLocation().y - 320));\r\n                this.node.addChild(star);\r\n\r\n                // let allChildren = this.table.getChildren();                        \r\n                // cc.log(rect);\r\n                // let ls\r\n                // for(let i = 0; i < allChildren.length; i++){\r\n                //     let rect = allChildren[i].getBoundingBoxToWorld();    \r\n                //     if (cc.rectContainsPoint(rect, event.getLocation())) {\r\n                //         cc.log(allChildren[i].getName());\r\n                //         return true;\r\n                // }\r\n\r\n            }\r\n        }, this);\r\n    },\r\n    onLoad() {\r\n        // this.table = \r\n        // console.log(\"vao day\");\r\n        // this.spawnNew();\r\n        // this.registerInput();\r\n        this.addTouchListerner();\r\n    },\r\n\r\n    start() {\r\n        // this.addTouchList)erner();\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}