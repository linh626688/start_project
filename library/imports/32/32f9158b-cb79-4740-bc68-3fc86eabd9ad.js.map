{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\caro/assets\\scripts\\caro\\GamePlay.js"],"names":["cc","Class","extends","Component","properties","blockPrefab","default","type","Prefab","table_1","Node","table_2","spawnNew","x","y","i","a","spawn","instantiate","node","addChild","getComponent","row","col","width","height","setPosition","getNewBlockPosition","GamePlay","randX","randY","p","addTouchListernerTable","table","on","EventType","TOUCH_START","event","rect","getBoundingBoxToWorld","rectContainsPoint","getLocation","star","v2","onLoad","start"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SADL;AAKRC,iBAAST,GAAGU,IALJ;AAMRC,iBAASX,GAAGU;AANJ,KAHP;AAWLE,cAAU,oBAAY;;AAElB,YAAIC,IAAI,CAAR;AACA,YAAIC,IAAI,CAAR;AACA,aAAK,IAAIC,IAAI,CAAC,CAAd,EAAiBA,IAAI,CAArB,EAAwBA,GAAxB,EAA6B;AACzB,iBAAK,IAAIC,IAAI,CAAC,CAAd,EAAiBA,IAAI,CAArB,EAAwBA,GAAxB,EAA6B;;AAEzB,oBAAIC,QAAQjB,GAAGkB,WAAH,CAAe,KAAKb,WAApB,CAAZ;AACA,qBAAKc,IAAL,CAAUC,QAAV,CAAmBH,KAAnB;AACAA,sBAAMI,YAAN,CAAmB,OAAnB,EAA4BC,GAA5B,GAAkCN,CAAlC;AACAC,sBAAMI,YAAN,CAAmB,OAAnB,EAA4BE,GAA5B,GAAkCR,CAAlC;AACAF,oBAAIG,IAAIC,MAAMO,KAAd;AACAV,oBAAIC,IAAIE,MAAMQ,MAAd;AACAR,sBAAMS,WAAN,CAAkB,KAAKC,mBAAL,CAAyBd,CAAzB,EAA4BC,CAA5B,CAAlB;AACA;AACAG,sBAAMI,YAAN,CAAmB,OAAnB,EAA4BO,QAA5B,GAAuC,IAAvC;AAEH;AACJ;AAEJ,KA/BI;AAgCLD,yBAAqB,6BAAUE,KAAV,EAAiBC,KAAjB,EAAwB;;AAEzC,eAAO9B,GAAG+B,CAAH,CAAKF,KAAL,EAAYC,KAAZ,CAAP;AAEH,KApCI;AAqCLE,0BArCK,kCAqCkBC,KArClB,EAqCyB;AAC1B,aAAKd,IAAL,CAAUe,EAAV,CAAalC,GAAGU,IAAH,CAAQyB,SAAR,CAAkBC,WAA/B,EAA4C,UAAUC,KAAV,EAAiB;AACzD,gBAAIC,OAAOL,MAAMM,qBAAN,EAAX;AACA,gBAAIvC,GAAGwC,iBAAH,CAAqBF,IAArB,EAA2BD,MAAMI,WAAN,EAA3B,CAAJ,EAAqD;AACjD,oBAAIC,OAAO1C,GAAGkB,WAAH,CAAe,KAAKb,WAApB,CAAX;AACAqC,qBAAKhB,WAAL,CAAiB1B,GAAG2C,EAAH,CAAMN,MAAMI,WAAN,GAAoB5B,CAApB,GAAwB,GAA9B,EAAmCwB,MAAMI,WAAN,GAAoB3B,CAApB,GAAwB,GAA3D,CAAjB;AACA,qBAAKK,IAAL,CAAUC,QAAV,CAAmBsB,IAAnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;AACJ,SAlBD,EAkBG,IAlBH;AAmBH,KAzDI;AA0DLE,UA1DK,oBA0DI;AACL,aAAKZ,sBAAL,CAA4B,KAAKvB,OAAjC;;AAEA,aAAKuB,sBAAL,CAA4B,KAAKrB,OAAjC;AACH,KA9DI;AAgELkC,SAhEK,mBAgEG;AACJ;AACH;AAlEI;;AAoEL;AApEJ","file":"GamePlay.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\caro","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        blockPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        table_1: cc.Node,\r\n        table_2: cc.Node,\r\n    },\r\n    spawnNew: function () {\r\n\r\n        var x = 0;\r\n        var y = 0;\r\n        for (var i = -7; i < 8; i++) {\r\n            for (var a = -7; a < 8; a++) {\r\n\r\n                var spawn = cc.instantiate(this.blockPrefab);\r\n                this.node.addChild(spawn);\r\n                spawn.getComponent('Block').row = a;\r\n                spawn.getComponent('Block').col = i;\r\n                x = a * spawn.width;\r\n                y = i * spawn.height;\r\n                spawn.setPosition(this.getNewBlockPosition(x, y));\r\n                // this.table.push(spawn);\r\n                spawn.getComponent('Block').GamePlay = this;\r\n\r\n            }\r\n        }\r\n\r\n    },\r\n    getNewBlockPosition: function (randX, randY) {\r\n\r\n        return cc.p(randX, randY);\r\n\r\n    },\r\n    addTouchListernerTable(table) {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, function (event) {\r\n            let rect = table.getBoundingBoxToWorld();\r\n            if (cc.rectContainsPoint(rect, event.getLocation())) {\r\n                let star = cc.instantiate(this.blockPrefab);\r\n                star.setPosition(cc.v2(event.getLocation().x - 480, event.getLocation().y - 320));\r\n                this.node.addChild(star);\r\n\r\n                // let allChildren = this.table.getChildren();                        \r\n                // cc.log(rect);\r\n                // let ls\r\n                // for(let i = 0; i < allChildren.length; i++){\r\n                //     let rect = allChildren[i].getBoundingBoxToWorld();    \r\n                //     if (cc.rectContainsPoint(rect, event.getLocation())) {\r\n                //         cc.log(allChildren[i].getName());\r\n                //         return true;\r\n                // }\r\n\r\n            }\r\n        }, this);\r\n    },\r\n    onLoad() {\r\n        this.addTouchListernerTable(this.table_1);\r\n\r\n        this.addTouchListernerTable(this.table_2);\r\n    },\r\n\r\n    start() {\r\n        // this.addTouchList)erner();\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}